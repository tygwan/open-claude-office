# DXTnavis - Stack Profile

> Generated by stack-detector | 2026-02-22
> Source: /home/coffin/dev/DXTnavis

---

## Primary Languages

| Language | Files | LOC | Percentage | Evidence |
|----------|-------|-----|------------|----------|
| C# | 58 | 18,916 | 88.4% | `DXTnavis.csproj:172-253` (Compile items) |
| XAML | 2 | ~1,485 | 6.9% | `Views/DXwindow.xaml`, `DXwindow.xaml` |
| TypeScript/Astro | ~5 | ~300 | 1.4% | `site/src/` (portfolio page) |
| PowerShell | 2 | ~50 | 0.2% | `deploy.ps1`, `DXTnavis.csproj:281` (PostBuild) |
| Batch | 2 | ~20 | 0.1% | `deploy.bat`, `deploy_now.bat` |
| Markdown | ~15 | ~2,000 | - | `README.md`, `CHANGELOG.md`, `docs/**/*.md` |

**Primary**: C# (.NET Framework 4.8)
**Secondary**: XAML (WPF UI)
**Tertiary**: TypeScript/Astro (portfolio site)

---

## Frameworks & Libraries

### Core Framework

| Framework | Version | Category | Evidence |
|-----------|---------|----------|----------|
| .NET Framework | 4.8 | Runtime | `DXTnavis.csproj:12` |
| WPF | 4.8 (built-in) | UI Framework | `DXTnavis.csproj:90-91` (PresentationCore, PresentationFramework) |
| Autodesk Navisworks .NET API | 2025 | BIM Platform | `DXTnavis.csproj:38-81` (11 references) |
| Autodesk Navisworks COM API | 2025 | BIM Platform (write) | `DXTnavis.csproj:50-68` (ComApi, Interop) |

### NuGet Dependencies

| Package | Version | Category | Evidence |
|---------|---------|----------|----------|
| Newtonsoft.Json | 13.0.4 | Serialization | `packages.config:3` |
| System.Text.Json | 7.0.0 | Serialization | `packages.config:9` |
| Microsoft.Bcl.AsyncInterfaces | 7.0.0 | Async | `packages.config:2` |
| System.Buffers | 4.5.1 | Memory | `packages.config:4` |
| System.Memory | 4.5.5 | Memory | `packages.config:5` |
| System.Numerics.Vectors | 4.5.0 | SIMD | `packages.config:6` |
| System.Runtime.CompilerServices.Unsafe | 6.0.0 | Runtime | `packages.config:7` |
| System.Text.Encodings.Web | 7.0.0 | Encoding | `packages.config:8` |
| System.Threading.Tasks.Extensions | 4.5.4 | Async | `packages.config:10` |
| System.ValueTuple | 4.5.0 | Tuples | `packages.config:11` |

### Disabled Dependencies (Phase 14/15)

| Package | Version | Category | Evidence |
|---------|---------|----------|----------|
| dotNetRdf.Core | 3.4.1 | Ontology/RDF | `DXTnavis.csproj:128-131` |
| VDS.Common | 3.0.0 | dotNetRdf support | `DXTnavis.csproj:133-135` |
| YamlDotNet | 15.1.0 | YAML parsing | `DXTnavis.csproj:137-139` |
| FuzzySharp | 2.0.2 | Fuzzy matching | `DXTnavis.csproj:141-143` |
| AngleSharp | 1.3.0 | HTML parsing | `DXTnavis.csproj:145-147` |
| HtmlAgilityPack | 1.12.3 | HTML parsing | `DXTnavis.csproj:149-151` |
| System.Text.Encoding.CodePages | 8.0.0 | EUC-KR encoding | `DXTnavis.csproj:153-155` |
| Neo4j.Driver | 5.15.0 | Graph database | `DXTnavis.csproj:157-159` |

---

## Package Manager

**NuGet** (packages.config format)

- Configuration: `packages.config`
- Package restore: MSBuild integration
- Target framework: net48

Evidence: `packages.config:1` (`<?xml ... packages>`), `DXTnavis.csproj:82-126` (HintPath references to `packages/`)

---

## Database & Storage

| Type | Technology | Purpose | Evidence |
|------|-----------|---------|----------|
| File I/O | CSV (UTF-8/EUC-KR) | Schedule data, property export | `Services/ScheduleCsvParser.cs`, `Services/HierarchyFileWriter.cs` |
| File I/O | JSON | Geometry manifest, tree export | `Services/Geometry/GeometryFileWriter.cs` |
| In-Memory | ObservableCollection | UI data binding | `DXwindowViewModel.cs:625-638` |
| In-Memory | Dictionary cache | Object matching, selection set, TimeLiner | `Services/ObjectMatcher.cs`, `Services/TimeLinerService.cs:22` |
| Planned | Neo4j | Knowledge graph (disabled) | `DXTnavis.csproj:157-159` |

No traditional database. All persistent data is file-based (CSV/JSON) or resides within the Navisworks document.

---

## API Framework

Not a web API. This is a **Navisworks AddInPlugin** (desktop BIM plugin).

| API Type | Technology | Evidence |
|----------|-----------|----------|
| Plugin Registration | `[Plugin]`, `[AddInPlugin]` attributes | `DX.cs:11-12` |
| Plugin Entry | `AddInPlugin.Execute()` override | `DX.cs:13-27` |
| Modeless Window | `Window.Show()` (non-blocking) | `DX.cs:63` |

---

## Frontend Stack

### Plugin UI (WPF)

| Component | Technology | Evidence |
|-----------|-----------|----------|
| Framework | WPF (XAML + C#) | `Views/DXwindow.xaml:1` |
| Pattern | MVVM | `ViewModels/DXwindowViewModel.cs:22` (INotifyPropertyChanged) |
| Command Pattern | RelayCommand / AsyncRelayCommand | `Helpers/RelayCommand.cs` |
| Data Binding | ObservableCollection, INotifyPropertyChanged | Throughout ViewModels |
| UI Elements | TabControl, TreeView, DataGrid, Expander, ComboBox, DatePicker | `Views/DXwindow.xaml` |

### Portfolio Site

| Component | Technology | Version | Evidence |
|-----------|-----------|---------|----------|
| Framework | Astro | 5.x | `site/package.json`, `site/astro.config.mjs` |
| Platform | GitHub Pages | - | Commit `ce2192d` |
| Features | Light/dark theme toggle | - | Commit `90dfa40` |

---

## Testing Framework

**No automated tests detected.**

| Metric | Value |
|--------|-------|
| Test files | 0 |
| Test framework | None configured |
| Test coverage | N/A |

Reason: BIM plugins require Navisworks runtime environment for API calls, making traditional unit testing challenging. The project relies on manual testing with DryRun modes and validation services.

Mitigation: `Services/AWP4DValidator.cs` (406 LOC) provides pre/post-condition validation; `ValidationService.cs` (433 LOC) provides data integrity checks.

Evidence: No `*Test*.cs`, `*Spec*.cs`, or test project references in `DXTnavis.sln`

---

## DevOps & Infrastructure

| Tool | Purpose | Evidence |
|------|---------|----------|
| Git | Version control | 40 commits, `.git/` |
| MSBuild PostBuild | Auto-deploy to Navisworks | `DXTnavis.csproj:280-286` |
| deploy.bat / deploy.ps1 | Manual deployment scripts | Root-level files |
| GitHub Pages | Portfolio site hosting | Commit `ce2192d` |
| Conventional Commits | Commit message convention | `feat(awp-4d):`, `fix(ui):`, `docs(readme):` pattern |

No CI/CD pipeline detected. Deployment is local (PostBuild copy to Navisworks Plugins directory).

---

## Domain-Specific Tools

| Tool | Domain | Purpose | Evidence |
|------|--------|---------|----------|
| Autodesk Navisworks 2025 | BIM/Construction | Host platform for plugin | `DXTnavis.csproj:38-81` |
| TimeLiner API | 4D Construction Simulation | Automated task creation | `Services/TimeLinerService.cs` |
| Selection Set API | BIM Object Management | Hierarchical object grouping | `Services/SelectionSetService.cs` |
| ComAPI Bridge | BIM Property Write | Custom property injection | `Services/PropertyWriteService.cs` |
| BoundingBox API | BIM Geometry | 3D spatial data extraction | `Services/Geometry/GeometryExtractor.cs` |

### Domain Context: BIM + Construction 4D

This is a **BIM (Building Information Modeling)** plugin in the **AEC (Architecture, Engineering, Construction)** domain. Key domain concepts:
- **4D Simulation**: 3D model + time dimension (construction schedule)
- **AWP (Advanced Work Packaging)**: Construction planning methodology
- **SyncID**: Identifier linking schedule data to 3D model objects
- **TimeLiner**: Navisworks' 4D simulation engine
- **Selection Sets**: Named groups of model objects for batch operations

---

## Domain Classification

| Attribute | Value |
|-----------|-------|
| **Primary Domain** | BIM / Construction Technology |
| **Sub-Domain** | 4D Construction Simulation & Property Management |
| **Application Type** | Desktop Plugin (Navisworks AddIn) |
| **Target Users** | BIM Engineers, Construction Managers, Data Scientists |
| **Platform** | Windows x64 (Navisworks 2025) |
| **Complexity** | Enterprise/Professional |

---

## Template Recommendation

### Recommended: `astro-landing`

**Rationale**: DXTnavis is a professional BIM tool with a clear product identity. An Astro landing page provides:

1. **Static content focus**: The portfolio page should showcase features, architecture diagrams, and workflow demonstrations -- all static content that benefits from Astro's 0KB JS default.
2. **Clean product presentation**: BIM/construction tools need professional, clean design rather than flashy dashboards.
3. **GitHub Pages compatibility**: The project already has a GitHub Pages deployment (`site/` directory with Astro). Using `astro-landing` aligns with existing infrastructure.
4. **Existing precedent**: The CLAUDE.md explicitly maps DXTnavis to `astro-landing` template. Evidence: `CLAUDE.md` line in "Template Recommendation" section.

Alternative considered: `sveltekit-dashboard` was rejected because DXTnavis is not a web dashboard -- it's a desktop plugin that needs a showcase page, not an interactive demo.

---

## Design Direction

### Palette

- **Primary**: Deep navy/dark blue (#1a1b2e to #0d1117) - Professional BIM/engineering aesthetic
- **Accent**: Autodesk orange (#FF6D00) to tie into Navisworks branding
- **Secondary accent**: Blueprint blue (#0078D4) matching the WPF UI theme
- **Background**: Dark mode primary with clean white sections for content
- **Text**: High-contrast white/light gray (#e6edf3) on dark backgrounds

### Typography

- **Headings**: Inter or Space Grotesk - Technical, clean, professional
- **Body**: Inter or IBM Plex Sans - Excellent readability for technical content
- **Code**: JetBrains Mono or Fira Code - For architecture diagrams and API examples
- **Tone**: Engineering precision, not creative flair

### Layout

- **Hero**: Large hero with plugin screenshot (existing `snapshots/dxtnavis_main_page.png`)
- **Feature grid**: 8 features in card grid (Hierarchy, Search, 3D Control, Export, Snapshot, CSV Viewer, AWP 4D, Schedule)
- **Architecture section**: AWP 4D pipeline diagram (already exists in README)
- **Timeline**: Development evolution (16 phases, rapid iteration story)
- **Tech badges**: .NET 4.8, Navisworks 2025, WPF, MVVM
- **Stats**: 18,900+ LOC, 58 source files, 16 development phases, 445K->5K optimization

---

## Complete Stack Summary

| Layer | Technology | Version | Notes |
|-------|-----------|---------|-------|
| Language | C# | 7.3+ | Primary |
| Language | XAML | WPF | UI definition |
| Language | TypeScript | 5.x | Portfolio site |
| Runtime | .NET Framework | 4.8 | Windows x64 |
| UI Framework | WPF | 4.8 | MVVM pattern |
| Host Platform | Navisworks Manage | 2025 | BIM software |
| API (Read) | Navisworks .NET API | 2025 | 11 assemblies |
| API (Write) | Navisworks COM API | 2025 | Property write |
| API (4D) | TimeLiner API | 2025 | Task creation |
| Serialization | Newtonsoft.Json | 13.0.4 | JSON |
| Serialization | System.Text.Json | 7.0.0 | Modern JSON |
| Site Framework | Astro | 5.x | Portfolio |
| Hosting | GitHub Pages | - | Static site |
| Package Manager | NuGet | packages.config | 10 packages |
| Build | MSBuild | 15.0 | VS 2022 |
| Deploy | PostBuild script | - | Auto-copy DLL |
| VCS | Git | - | 40 commits |
| Commit Style | Conventional Commits | - | feat/fix/docs |
| Testing | None | - | Manual + DryRun |
